import{d as ht,r as b,c as B,a as R,w as Y,o as st,b as rt,e as d,f as r,g as $,h as O,i as t,t as C,v as ft,n as et,j as gt,k as at,_ as J,l as K,T as ct,m as G,p as N,q as W,F as z,s as F,u as j,x as mt,y as V,z as ot,A as yt,B as L,C as ut,D as bt,E as _t,G as T}from"./index-DOTvwB60.js";const q="https://mays-photo-api.mays.workers.dev",lt="mays_photo_token";function dt(){return localStorage.getItem(lt)}function wt(y){localStorage.setItem(lt,y)}function vt(){localStorage.removeItem(lt)}function Ct(){return!!dt()}async function kt(y){try{const i=await(await fetch(`${q}/api/auth`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:y})})).json();return i.success&&i.token?(wt(i.token),!0):!1}catch(u){return console.error("Authentication failed:",u),!1}}async function X(y,u={}){const i=dt();if(!i)throw new Error("æœªç™»å½•");const a=new Headers(u.headers);a.set("Authorization",`Bearer ${i}`);const l=await fetch(y,{...u,headers:a});if(l.status===401)throw vt(),new Error("ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•");return l}async function $t(){return(await X(`${q}/api/groups`)).json()}async function xt(y){await X(`${q}/api/groups`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groups:y})})}async function St(y,u,i){const a=new FormData;return a.append("file",y),a.append("groupId",u),a.append("photoId",i),(await X(`${q}/api/upload`,{method:"POST",body:a})).json()}async function Pt(y,u){await X(`${q}/api/image/${y}/${u}`,{method:"DELETE"})}const tt={åŒ—äº¬:{lat:39.9042,lng:116.4074,top:"28%",left:"68%"},ä¸Šæµ·:{lat:31.2304,lng:121.4737,top:"52%",left:"78%"},å¹¿å·:{lat:23.1291,lng:113.2644,top:"75%",left:"65%"},æ·±åœ³:{lat:22.5431,lng:114.0579,top:"78%",left:"67%"},æˆéƒ½:{lat:30.5728,lng:104.0668,top:"55%",left:"48%"},é‡åº†:{lat:29.4316,lng:106.9123,top:"58%",left:"52%"},æ­å·:{lat:30.2741,lng:120.1551,top:"54%",left:"76%"},å—äº¬:{lat:32.0603,lng:118.7969,top:"50%",left:"74%"},è¥¿å®‰:{lat:34.3416,lng:108.9398,top:"45%",left:"55%"},æ­¦æ±‰:{lat:30.5928,lng:114.3055,top:"55%",left:"64%"},å¤©æ´¥:{lat:39.3434,lng:117.3616,top:"30%",left:"70%"},è‹å·:{lat:31.299,lng:120.5853,top:"52%",left:"76%"},é’å²›:{lat:36.0671,lng:120.3826,top:"38%",left:"75%"},å¤§è¿:{lat:38.914,lng:121.6147,top:"30%",left:"76%"},å¦é—¨:{lat:24.4798,lng:118.0894,top:"72%",left:"72%"},æ˜†æ˜:{lat:24.8801,lng:102.8329,top:"68%",left:"42%"},é•¿æ²™:{lat:28.2282,lng:112.9388,top:"62%",left:"62%"},å“ˆå°”æ»¨:{lat:45.8038,lng:126.535,top:"15%",left:"80%"},éƒ‘å·:{lat:34.7466,lng:113.6254,top:"45%",left:"63%"},æ²ˆé˜³:{lat:41.8057,lng:123.4315,top:"22%",left:"76%"},æµå—:{lat:36.6512,lng:116.9972,top:"40%",left:"70%"},ç¦å·:{lat:26.0745,lng:119.2965,top:"68%",left:"74%"},å—å®:{lat:22.817,lng:108.3665,top:"78%",left:"52%"},è´µé˜³:{lat:26.647,lng:106.6302,top:"65%",left:"50%"},ä¹Œé²æœ¨é½:{lat:43.8256,lng:87.6168,top:"25%",left:"18%"},æ‹‰è¨:{lat:29.65,lng:91.1,top:"55%",left:"28%"},å…°å·:{lat:36.0611,lng:103.8343,top:"42%",left:"45%"},å¤ªåŸ:{lat:37.8706,lng:112.5489,top:"38%",left:"62%"},åˆè‚¥:{lat:31.8206,lng:117.2272,top:"52%",left:"70%"},å—æ˜Œ:{lat:28.682,lng:115.8579,top:"60%",left:"68%"},æµ·å£:{lat:20.044,lng:110.1999,top:"88%",left:"55%"},ä¸‰äºš:{lat:18.2528,lng:109.512,top:"92%",left:"54%"},é¦™æ¸¯:{lat:22.3193,lng:114.1694,top:"80%",left:"68%"},æ¾³é—¨:{lat:22.1987,lng:113.5439,top:"80%",left:"65%"},å°åŒ—:{lat:25.033,lng:121.5654,top:"68%",left:"82%"}},it="mays_photo_groups",Mt=ht("photos",()=>{const y=()=>{try{const e=localStorage.getItem(it);return e?JSON.parse(e):[]}catch{return[]}},u=e=>{localStorage.setItem(it,JSON.stringify(e))},i=b(y()),a=b(!1),l=b(null),v=B(()=>{const e=new Set(i.value.map(n=>n.city));return Array.from(e)}),h=B(()=>{const e={};return i.value.forEach(n=>{const p=e[n.city];p?p.push(n):e[n.city]=[n]}),e}),g=B(()=>i.value.reduce((e,n)=>e+n.photos.length,0)),w=async()=>{a.value=!0,l.value=null;try{const e=await $t();i.value=e.groups||[],u(i.value)}catch(e){l.value=e instanceof Error?e.message:"åŠ è½½å¤±è´¥",i.value=y()}finally{a.value=!1}},_=async()=>{try{await xt(i.value),u(i.value)}catch(e){throw l.value=e instanceof Error?e.message:"ä¿å­˜å¤±è´¥",e}};return{groups:i,loading:a,error:l,cities:v,groupsByCity:h,totalPhotos:g,fetchFromApi:w,saveToApi:_,addGroup:(e,n)=>{const p=tt[n],k={id:`${n}-${Date.now()}`,name:e,city:n,location:p?{lat:p.lat,lng:p.lng}:void 0,photos:[],createdAt:new Date().toISOString()};return i.value.unshift(k),_(),k},removeGroup:e=>{const n=i.value.findIndex(p=>p.id===e);n!==-1&&(i.value.splice(n,1),_())},updateGroup:(e,n)=>{const p=i.value.find(k=>k.id===e);p&&(Object.assign(p,n),_())},addPhoto:async(e,n)=>{const p=i.value.find(m=>m.id===e);if(!p)return null;const k=`photo-${Date.now()}-${Math.random().toString(36).slice(2,8)}`;if(n.file)try{await St(n.file,e,k)}catch(m){throw l.value="ä¸Šä¼ å¤±è´¥",m}const M={id:k,title:n.title,description:n.description,date:n.date,url:n.url};return p.photos.push(M),await _(),M},removePhoto:async(e,n)=>{const p=i.value.find(M=>M.id===e);if(!p)return;const k=p.photos.findIndex(M=>M.id===n);if(k!==-1){try{await Pt(e,n)}catch(M){console.error("åˆ é™¤å›¾ç‰‡å¤±è´¥:",M)}p.photos.splice(k,1),await _()}},getCityStyle:e=>{const n=tt[e];return n?{top:n.top,left:n.left}:{top:"50%",left:"50%"}},initSampleData:()=>{i.value.length===0&&(i.value=[{id:"shanghai-2024",name:"2024 ä¸Šæµ·éšæ‹",city:"ä¸Šæµ·",location:{lat:31.2304,lng:121.4737},photos:[{id:"sh-1",title:"å¤–æ»©å¤œæ™¯",description:"ç¬¬ä¸€æ¬¡åœ¨å†¬å¤©çš„å¤–æ»©å¹é£ã€‚",date:"2024-01-12"},{id:"sh-2",title:"æ­¦åº·å¤§æ¥¼",description:"ä¸‹åˆçš„é˜³å…‰åˆšåˆšå¥½ã€‚",date:"2024-01-13"}],createdAt:"2024-01-12T00:00:00.000Z"},{id:"chengdu-2023",name:"æˆéƒ½Â·è¾£å’Œæ…¢",city:"æˆéƒ½",location:{lat:30.5728,lng:104.0668},photos:[{id:"cd-1",title:"å®½çª„å··å­",description:"äººå¾ˆå¤šï¼Œä½†æ˜¯å¾ˆèˆ’æœã€‚",date:"2023-10-02"}],createdAt:"2023-10-02T00:00:00.000Z"}],u(i.value))},CHINA_CITIES:tt}}),It={class:"china-map-container"},Dt={key:0,class:"map-loading"},Tt={key:1,class:"map-legend"},Et=R({__name:"ChinaMapEcharts",props:{activeCity:{},visitedCities:{},cityPhotoCounts:{},showConnections:{type:Boolean}},emits:["select"],setup(y,{emit:u}){const i={åŒ—äº¬:[116.407396,39.9042],å¤©æ´¥:[117.4163641,39.3032619],ä¸Šæµ·:[121.4700152,31.2312707],é‡åº†:[107.8748712,30.05518],çŸ³å®¶åº„:[114.5088385,38.0429742],å”å±±:[118.1753934,39.6351138],ç§¦çš‡å²›:[119.6004921,39.9353776],é‚¯éƒ¸:[114.4906858,36.6122735],é‚¢å°:[114.4995001,37.068204],ä¿å®š:[115.464806,38.874434],å¼ å®¶å£:[114.8853001,40.811901],æ‰¿å¾·:[117.962411,40.954786],æ²§å·:[116.838834,38.304477],å»ŠåŠ:[116.683752,39.53775],è¡¡æ°´:[115.670177,37.73892],å¤ªåŸ:[112.5437075,37.8699921],å¤§åŒ:[113.300126,40.076816],é˜³æ³‰:[113.580519,37.856971],é•¿æ²»:[113.116255,36.195386],æ™‹åŸ:[112.851831,35.490701],æœ”å·:[112.431519,39.331261],æ™‹ä¸­:[112.752694,37.687024],è¿åŸ:[110.997787,35.026412],å¿»å·:[112.734174,38.416663],ä¸´æ±¾:[111.518976,36.088005],å•æ¢:[111.141647,37.518314],å‘¼å’Œæµ©ç‰¹:[111.6601939,40.8184528],åŒ…å¤´:[109.840405,40.658168],ä¹Œæµ·:[106.795841,39.653836],èµ¤å³°:[118.886856,42.257817],é€šè¾½:[122.244419,43.652969],é„‚å°”å¤šæ–¯:[109.781327,39.608266],å‘¼ä¼¦è´å°”:[119.765744,49.211574],å·´å½¦æ·–å°”:[107.387657,40.743213],ä¹Œå…°å¯Ÿå¸ƒ:[113.114543,40.993912],å…´å®‰ç›Ÿ:[122.070317,46.076268],é”¡æ—éƒ­å‹’ç›Ÿ:[116.091903,43.944018],é˜¿æ‹‰å–„ç›Ÿ:[105.706422,38.844814],æ²ˆé˜³:[123.4279105,41.8026095],å¤§è¿:[122.255833,39.740278],éå±±:[122.994329,41.107994],æŠšé¡º:[123.957208,41.880872],æœ¬æºª:[123.685616,41.488645],ä¸¹ä¸œ:[124.383044,40.124296],é”¦å·:[121.135742,41.119269],è¥å£:[122.235417,40.667012],é˜œæ–°:[121.670325,42.021619],è¾½é˜³:[123.236944,41.268335],ç›˜é”¦:[122.070714,41.119997],é“å²­:[123.726166,42.223769],æœé˜³:[120.450372,41.573734],è‘«èŠ¦å²›:[120.836932,40.711052],é•¿æ˜¥:[125.3180998,43.8844201],å‰æ—:[126.55302,43.843577],å››å¹³:[124.350398,43.16642],è¾½æº:[125.145164,42.88805],é€šåŒ–:[125.936501,41.721177],ç™½å±±:[126.427839,41.940797],æ¾åŸ:[124.825117,45.141502],ç™½åŸ:[122.838714,45.619026],å»¶è¾¹æœé²œæ—è‡ªæ²»å·:[129.509126,42.904823],å“ˆå°”æ»¨:[126.6276177,45.7593633],é½é½å“ˆå°”:[123.917962,47.354348],é¸¡è¥¿:[130.969333,45.295075],é¹¤å²—:[130.297964,47.349916],åŒé¸­å±±:[131.159134,46.646064],å¤§åº†:[125.103784,46.589309],ä¼Šæ˜¥:[128.840806,47.727536],ä½³æœ¨æ–¯:[130.318917,46.799327],ä¸ƒå°æ²³:[131.003067,45.771266],ç‰¡ä¸¹æ±Ÿ:[129.618602,44.582962],é»‘æ²³:[127.52856,50.245329],ç»¥åŒ–:[126.968887,46.653262],å¤§å…´å®‰å²­åœ°åŒº:[124.711526,52.335262],å—äº¬:[118.7788631,32.0438284],æ— é”¡:[120.2952752,31.5776626],å¾å·:[117.284124,34.205768],å¸¸å·:[119.973987,31.810689],è‹å·:[120.6212881,31.311123],å—é€š:[120.894291,31.980171],è¿äº‘æ¸¯:[119.221611,34.596653],æ·®å®‰:[119.015285,33.610353],ç›åŸ:[120.161641,33.349508],æ‰¬å·:[119.412966,32.39421],é•‡æ±Ÿ:[119.452753,32.204402],æ³°å·:[119.915176,32.484882],å®¿è¿:[118.275198,33.963008],æ­å·:[120.2052342,30.2489634],å®æ³¢:[121.6203873,29.8622194],æ¸©å·:[120.699366,27.994267],å˜‰å…´:[120.755486,30.746129],æ¹–å·:[120.086823,30.894348],ç»å…´:[120.580232,30.029752],é‡‘å:[119.647444,29.079059],è¡¢å·:[118.874191,28.935822],èˆŸå±±:[122.207216,29.985295],å°å·:[121.420757,28.656386],ä¸½æ°´:[119.922796,28.46763],åˆè‚¥:[117.281428,31.8665676],èŠœæ¹–:[118.432941,31.352859],èšŒåŸ :[117.388312,32.916287],æ·®å—:[116.999932,32.625478],é©¬éå±±:[118.506759,31.670452],æ·®åŒ—:[116.798265,33.954797],é“œé™µ:[117.812079,30.945515],å®‰åº†:[117.063754,30.54294],é»„å±±:[118.337481,29.714699],æ»å·:[118.316833,32.301556],é˜œé˜³:[115.814504,32.889632],å®¿å·:[116.964356,33.646373],å…­å®‰:[116.521854,31.7337],äº³å·:[115.778676,33.844582],æ± å·:[117.491568,30.6648],å®£åŸ:[118.758816,30.940718],ç¦å·:[119.2918215,26.0774954],å¦é—¨:[118.0768065,24.5438732],è†ç”°:[119.007777,25.454084],ä¸‰æ˜:[117.638678,26.263849],æ³‰å·:[118.675675,24.874132],æ¼³å·:[117.647093,24.512948],å—å¹³:[118.17783,26.641768],é¾™å²©:[117.017536,25.075123],å®å¾·:[119.547932,26.665617],å—æ˜Œ:[116.0348483,28.6472124],æ™¯å¾·é•‡:[117.178419,29.268835],èä¹¡:[113.854556,27.622768],ä¹æ±Ÿ:[116.00193,29.705077],æ–°ä½™:[114.917346,27.817808],é¹°æ½­:[117.069202,28.260189],èµ£å·:[114.93503,25.831829],å‰å®‰:[114.992039,27.113848],å®œæ˜¥:[114.416778,27.814864],æŠšå·:[116.358181,27.947811],ä¸Šé¥¶:[117.943433,28.454863],æµå—:[117.1138479,36.6519754],é’å²›:[120.3777659,36.0663249],æ·„åš:[118.054927,36.813487],æ£åº„:[117.323725,34.810487],ä¸œè¥:[118.674767,37.433654],çƒŸå°:[121.447935,37.463822],æ½åŠ:[119.161756,36.706962],æµå®:[116.587245,35.414129],æ³°å®‰:[117.087614,36.200252],å¨æµ·:[122.120419,37.513068],æ—¥ç…§:[119.526888,35.416734],ä¸´æ²‚:[118.356414,35.104673],å¾·å·:[116.357466,37.434092],èŠåŸ:[115.98546,36.457595],æ»¨å·:[118.017938,37.383542],èæ³½:[115.480656,35.23375],éƒ‘å·:[113.619321,34.7472531],å¼€å°:[114.307581,34.797049],æ´›é˜³:[112.45404,34.619683],å¹³é¡¶å±±:[113.192661,33.766169],å®‰é˜³:[114.392392,36.097577],é¹¤å£:[114.29777,35.747225],æ–°ä¹¡:[113.9268,35.30323],ç„¦ä½œ:[113.241823,35.215631],æ¿®é˜³:[115.029215,35.761829],è®¸æ˜Œ:[113.852454,34.035771],æ¼¯æ²³:[114.016539,33.581412],ä¸‰é—¨å³¡:[111.200135,34.772611],å—é˜³:[112.528321,32.990664],å•†ä¸˜:[115.65637,34.414172],ä¿¡é˜³:[114.091023,32.147679],å‘¨å£:[114.650661,33.620357],é©»é©¬åº—:[114.022298,32.980169],æ­¦æ±‰:[114.2999353,30.5951051],é»„çŸ³:[115.038867,30.199653],åå °:[110.787916,32.646907],å®œæ˜Œ:[111.286471,30.691967],è¥„é˜³:[112.122415,32.008986],é„‚å·:[114.894843,30.39194],è†é—¨:[112.199265,31.035423],å­æ„Ÿ:[113.916903,30.924568],è†å·:[112.239741,30.335165],é»„å†ˆ:[114.872316,30.453667],å’¸å®:[114.322452,29.841443],éšå·:[113.37377,31.69013],æ©æ–½åœŸå®¶æ—è‹—æ—è‡ªæ²»å·:[109.488172,30.272156],é•¿æ²™:[113.2384362,28.1450774],æ ªæ´²:[113.13396,27.827433],æ¹˜æ½­:[112.944052,27.829738],è¡¡é˜³:[112.571997,26.893368],é‚µé˜³:[111.467791,27.238893],å²³é˜³:[113.129192,29.357104],å¸¸å¾·:[111.698497,29.031673],å¼ å®¶ç•Œ:[110.479191,29.117096],ç›Šé˜³:[112.355042,28.55386],éƒ´å·:[113.014737,25.770509],æ°¸å·:[111.613445,26.420394],æ€€åŒ–:[109.998488,27.554978],å¨„åº•:[111.994396,27.697279],æ¹˜è¥¿åœŸå®¶æ—è‹—æ—è‡ªæ²»å·:[109.739735,28.311949],å¹¿å·:[113.2592945,23.1301964],éŸ¶å…³:[113.597522,24.810403],æ·±åœ³:[114.0545429,22.5445741],ç æµ·:[113.5721327,22.273734],æ±•å¤´:[116.681972,23.354091],ä½›å±±:[113.1159558,23.0239788],æ±Ÿé—¨:[113.081508,22.578738],æ¹›æ±Ÿ:[110.359377,21.270707],èŒ‚å:[110.925456,21.662999],è‚‡åº†:[112.465091,23.046237],æƒ å·:[114.415801,23.111847],æ¢…å·:[116.122238,24.288615],æ±•å°¾:[115.375279,22.78566],æ²³æº:[114.700447,23.743686],é˜³æ±Ÿ:[111.982232,21.857958],æ¸…è¿œ:[113.056031,23.681764],ä¸œè:[113.7452332,23.0183568],ä¸­å±±:[113.392782,22.517],æ½®å·:[116.622603,23.656951],æ­é˜³:[116.372831,23.549993],äº‘æµ®:[112.044439,22.915094],å—å®:[108.3627211,22.8193063],æŸ³å·:[109.428081,24.365219],æ¡‚æ—:[110.289879,25.234225],æ¢§å·:[111.297604,23.485131],åŒ—æµ·:[109.119254,21.473343],é˜²åŸæ¸¯:[108.354788,21.614631],é’¦å·:[108.654445,21.957013],è´µæ¸¯:[109.60204,23.0936],ç‰æ—:[110.150683,22.63136],ç™¾è‰²:[106.6003,23.902437],è´ºå·:[111.566694,24.403582],æ²³æ± :[108.062105,24.695899],æ¥å®¾:[109.221465,23.733766],å´‡å·¦:[107.364962,22.378253],æµ·å£:[110.1956502,20.0462328],ä¸‰äºš:[109.5034392,18.2534658],ä¸‰æ²™:[112.3387,16.831839],å„‹å·:[109.580811,19.520932],æˆéƒ½:[104.063315,30.659867],è‡ªè´¡:[104.778442,29.33903],æ”€æèŠ±:[101.718637,26.582347],æ³¸å·:[105.442258,28.871811],å¾·é˜³:[104.397894,31.126855],ç»µé˜³:[104.679114,31.46751],å¹¿å…ƒ:[105.843357,32.435435],é‚å®:[105.592898,30.532847],å†…æ±Ÿ:[105.058433,29.580228],ä¹å±±:[103.765568,29.552106],å—å……:[106.110698,30.837793],çœ‰å±±:[103.848538,30.07563],å®œå®¾:[104.630825,28.755585],å¹¿å®‰:[106.633212,30.455961],è¾¾å·:[107.46791,31.209571],é›…å®‰:[102.984373,29.987722],å·´ä¸­:[106.747477,31.867903],èµ„é˜³:[104.627636,30.128901],é˜¿åè—æ—ç¾Œæ—è‡ªæ²»å·:[102.224653,31.899413],ç”˜å­œè—æ—è‡ªæ²»å·:[101.963815,30.050663],å‡‰å±±å½æ—è‡ªæ²»å·:[102.267335,27.881611],è´µé˜³:[106.6246178,26.6499922],å…­ç›˜æ°´:[104.83023,26.593343],éµä¹‰:[106.927389,27.725654],å®‰é¡º:[105.947594,26.253072],æ¯•èŠ‚:[105.28501,27.301693],é“œä»:[109.191555,27.718346],é»”è¥¿å—å¸ƒä¾æ—è‹—æ—è‡ªæ²»å·:[104.906397,25.08812],é»”ä¸œå—è‹—æ—ä¾—æ—è‡ªæ²»å·:[107.982879,26.583352],é»”å—å¸ƒä¾æ—è‹—æ—è‡ªæ²»å·:[107.522098,26.258205],æ˜†æ˜:[102.7086139,25.0363006],æ›²é–:[103.796167,25.489999],ç‰æºª:[102.546543,24.351928],ä¿å±±:[99.161761,25.112046],æ˜­é€š:[103.716616,27.338257],ä¸½æ±Ÿ:[100.22775,26.855047],æ™®æ´±:[100.966559,22.825065],ä¸´æ²§:[100.088843,23.886567],æ¥šé›„å½æ—è‡ªæ²»å·:[101.546046,25.042165],çº¢æ²³å“ˆå°¼æ—å½æ—è‡ªæ²»å·:[103.384182,23.366843],æ–‡å±±å£®æ—è‹—æ—è‡ªæ²»å·:[104.24401,23.36951],è¥¿åŒç‰ˆçº³å‚£æ—è‡ªæ²»å·:[100.797941,22.001724],å¤§ç†ç™½æ—è‡ªæ²»å·:[100.267638,25.606486],å¾·å®å‚£æ—æ™¯é¢‡æ—è‡ªæ²»å·:[98.584895,24.43232],æ€’æ±Ÿå‚ˆåƒ³æ—è‡ªæ²»å·:[98.854304,25.850949],è¿ªåº†è—æ—è‡ªæ²»å·:[99.706463,27.826853],æ‹‰è¨:[91.1173015,29.6542054],æ—¥å–€åˆ™:[88.880583,29.267519],æ˜Œéƒ½:[97.178452,31.136875],æ—èŠ:[94.362348,29.654693],å±±å—:[91.766529,29.236023],é‚£æ›²:[92.060214,31.476004],é˜¿é‡Œåœ°åŒº:[80.105498,32.503187],è¥¿å®‰:[108.9423363,34.261004],é“œå·:[108.945233,34.896756],å®é¸¡:[107.237974,34.361979],å’¸é˜³:[108.708991,34.329605],æ¸­å—:[109.509786,34.499995],å»¶å®‰:[109.489781,36.585455],æ±‰ä¸­:[107.023323,33.06748],æ¦†æ—:[109.734589,38.285198],å®‰åº·:[109.029022,32.684714],å•†æ´›:[109.940477,33.870422],å…°å·:[103.733224,36.474436],å˜‰å³ªå…³:[98.289152,39.77313],é‡‘æ˜Œ:[102.187888,38.520089],ç™½é“¶:[104.137735,36.544701],å¤©æ°´:[105.724947,34.580863],æ­¦å¨:[102.63797,37.9282],å¼ æ–:[100.449818,38.925529],å¹³å‡‰:[106.665302,35.543051],é…’æ³‰:[98.493714,39.73255],åº†é˜³:[107.642631,35.709077],å®šè¥¿:[104.626282,35.580662],é™‡å—:[104.920221,33.388598],ä¸´å¤å›æ—è‡ªæ²»å·:[103.210538,35.601225],ç”˜å—è—æ—è‡ªæ²»å·:[102.911008,34.986354],è¥¿å®:[101.440811,36.824463],æµ·ä¸œ:[102.10327,36.502916],æµ·åŒ—è—æ—è‡ªæ²»å·:[100.901059,36.959435],é»„å—è—æ—è‡ªæ²»å·:[102.019988,35.517744],æµ·å—è—æ—è‡ªæ²»å·:[100.619542,36.280353],æœæ´›è—æ—è‡ªæ²»å·:[100.242143,34.4736],ç‰æ ‘è—æ—è‡ªæ²»å·:[97.008522,33.004049],æµ·è¥¿è’™å¤æ—è—æ—è‡ªæ²»å·:[97.370785,37.374663],é“¶å·:[106.2261926,38.4852037],çŸ³å˜´å±±:[106.383303,38.984206],å´å¿ :[106.198793,37.997461],å›ºåŸ:[106.24261,36.015855],ä¸­å«:[105.196902,37.500977],ä¹Œé²æœ¨é½:[87.6139038,43.8244074],å…‹æ‹‰ç›ä¾:[84.889207,45.579889],åé²ç•ª:[89.184078,42.947613],å“ˆå¯†:[93.515075,42.818501],æ˜Œå‰å›æ—è‡ªæ²»å·:[87.304012,44.014577],åšå°”å¡”æ‹‰è’™å¤è‡ªæ²»å·:[82.074778,44.903258],å·´éŸ³éƒ­æ¥è’™å¤è‡ªæ²»å·:[86.150969,41.768552],é˜¿å…‹è‹åœ°åŒº:[80.265068,41.170712],å…‹å­œå‹’è‹æŸ¯å°”å…‹å­œè‡ªæ²»å·:[76.172825,39.713431],å–€ä»€åœ°åŒº:[75.989138,39.467664],å’Œç”°åœ°åŒº:[79.922211,37.110687],ä¼ŠçŠå“ˆè¨å…‹è‡ªæ²»å·:[81.317946,43.92186],å¡”åŸåœ°åŒº:[82.985732,46.746301],é˜¿å‹’æ³°åœ°åŒº:[88.13963,47.848393],é¦™æ¸¯:[114.1628131,22.2793278],æ¾³é—¨:[113.5380454,22.1899448],å°åŒ—:[121.5636796,25.0375198],é«˜é›„:[120.3025796,22.639838]},a=y,l=u,v=b(null),h=b(!0),g=b("åŠ è½½åœ°å›¾ä¸­...");let w=null;const _=B(()=>a.visitedCities.filter(e=>i[e]).map(e=>({name:e,value:[...i[e]||[0,0],a.cityPhotoCounts?.[e]||0]}))),P=B(()=>!a.activeCity||!i[a.activeCity]?[]:[{name:a.activeCity,value:[...i[a.activeCity]||[0,0],a.cityPhotoCounts?.[a.activeCity]||0]}]),D=B(()=>{if(!a.showConnections||a.visitedCities.length<2)return[];const e=[],n=a.visitedCities.filter(p=>i[p]);for(let p=0;p<n.length-1;p++){const k=n[p],M=n[p+1];if(k&&M){const m=i[k],o=i[M];m&&o&&e.push({coords:[m,o]})}}return e}),x=()=>({backgroundColor:"transparent",tooltip:{trigger:"item",confine:!0,formatter:e=>e.value&&e.value[2]!==void 0?`<div style="font-weight: 600">${e.name}</div>
                <div style="color: #64748b; font-size: 12px">${e.value[2]} å¼ ç…§ç‰‡</div>`:e.name||"",backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#e2e8f0",borderWidth:1,padding:[8,12],textStyle:{color:"#1e293b"}},geo:{map:"china",roam:!0,zoom:1.2,center:[105,36],scaleLimit:{min:.8,max:3},itemStyle:{areaColor:"#f1f5f9",borderColor:"#cbd5e1",borderWidth:1},emphasis:{itemStyle:{areaColor:"#e2e8f0"},label:{show:!1}},select:{itemStyle:{areaColor:"#dbeafe"}},label:{show:!1}},series:[{type:"lines",coordinateSystem:"geo",zlevel:1,effect:{show:!0,period:6,trailLength:.3,symbol:"arrow",symbolSize:5,color:"#3b82f6"},lineStyle:{color:"#93c5fd",width:2,opacity:.6,curveness:.2},data:D.value},{type:"effectScatter",coordinateSystem:"geo",zlevel:2,rippleEffect:{brushType:"stroke",scale:3,period:4},symbol:"circle",symbolSize:e=>{const n=e[2]||0;return Math.max(10,Math.min(20,10+n*2))},itemStyle:{color:"#10b981",shadowBlur:10,shadowColor:"rgba(16, 185, 129, 0.4)"},label:{show:!0,formatter:"{b}",position:"right",distance:8,align:"left",fontSize:11,color:"#475569",fontWeight:500},data:_.value},{type:"effectScatter",coordinateSystem:"geo",zlevel:3,rippleEffect:{brushType:"stroke",scale:4,period:3},symbol:"circle",symbolSize:18,itemStyle:{color:"#3b82f6",shadowBlur:15,shadowColor:"rgba(59, 130, 246, 0.5)"},label:{show:!0,formatter:"{b}",position:"top",fontSize:12,color:"#3b82f6",fontWeight:600},data:P.value}]}),I=async()=>{try{console.log("[ChinaMap] å¼€å§‹åŠ è½½ä¸­å›½åœ°å›¾ GeoJSON..."),g.value="æ­£åœ¨è·å–åœ°å›¾æ•°æ®...";const n=await fetch("/data/china-geojson.json");if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const p=await n.json();return console.log("[ChinaMap] GeoJSON åŠ è½½æˆåŠŸ, ç‰¹å¾æ•°é‡:",p.features?.length),g.value="æ­£åœ¨æ³¨å†Œåœ°å›¾...",at("china",p),console.log("[ChinaMap] åœ°å›¾æ³¨å†ŒæˆåŠŸ"),!0}catch(e){return console.error("[ChinaMap] åŠ è½½åœ°å›¾å¤±è´¥:",e),g.value="åœ°å›¾åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨å¤‡ç”¨æ•°æ®...",at("china",{type:"FeatureCollection",features:[]}),!1}},E=async()=>{if(console.log("[ChinaMap] å¼€å§‹åˆå§‹åŒ–å›¾è¡¨..."),await I(),await et(),!v.value){console.error("[ChinaMap] å›¾è¡¨å®¹å™¨ä¸å­˜åœ¨");return}h.value=!1,await et(),console.log("[ChinaMap] å›¾è¡¨å®¹å™¨å°ºå¯¸:",v.value.offsetWidth,"x",v.value.offsetHeight);try{w=gt(v.value),console.log("[ChinaMap] ECharts å®ä¾‹åˆ›å»ºæˆåŠŸ");const e=x();console.log("[ChinaMap] å›¾è¡¨é…ç½®:",JSON.stringify(e.geo,null,2)),w.setOption(e),w.on("click",n=>{n.componentType==="series"&&n.name&&a.visitedCities.includes(n.name)&&l("select",n.name)}),console.log("[ChinaMap] å›¾è¡¨åˆå§‹åŒ–å®Œæˆ")}catch(e){console.error("[ChinaMap] å›¾è¡¨åˆå§‹åŒ–å¤±è´¥:",e)}},S=()=>{w&&w.setOption(x())};Y(()=>[a.visitedCities,a.cityPhotoCounts,a.showConnections],()=>{S()},{deep:!0}),Y(()=>a.activeCity,e=>{w&&(S(),e&&i[e]&&w.setOption({geo:{center:i[e],zoom:2}}))});const f=()=>{w?.resize()};return st(()=>{console.log("[ChinaMap] ç»„ä»¶å·²æŒ‚è½½"),E(),window.addEventListener("resize",f)}),rt(()=>{console.log("[ChinaMap] ç»„ä»¶å¸è½½ï¼Œé”€æ¯å›¾è¡¨å®ä¾‹"),window.removeEventListener("resize",f),w?.dispose(),w=null}),(e,n)=>(r(),d("div",It,[h.value?(r(),d("div",Dt,[n[0]||(n[0]=t("div",{class:"loading-spinner"},null,-1)),t("p",null,C(g.value),1)])):$("",!0),O(t("div",{ref_key:"chartDom",ref:v,class:"chart"},null,512),[[ft,!h.value]]),h.value?$("",!0):(r(),d("div",Tt,[...n[1]||(n[1]=[t("div",{class:"legend-item"},[t("span",{class:"legend-dot visited"}),t("span",null,"å·²å»è¿‡")],-1),t("div",{class:"legend-item"},[t("span",{class:"legend-dot active"}),t("span",null,"å½“å‰é€‰ä¸­")],-1)])]))]))}}),Bt=J(Et,[["__scopeId","data-v-e0ea63d1"]]),Lt={class:"modal-container"},Gt={class:"modal-body"},Ut={class:"search-box"},zt={class:"regions-list"},At={class:"region-title"},Ot={class:"cities-grid"},Nt=["onClick"],Ft={class:"custom-city"},Vt={key:1,class:"custom-input-group"},jt={class:"modal-footer"},Rt=["disabled"],Jt=R({__name:"CitySelector",props:{visible:{type:Boolean},initialCity:{}},emits:["update:visible","select"],setup(y,{emit:u}){const i=y,a=u,l=b(""),v=b(null),h=b(!1),g=b(""),w=b(null),_={ååŒ—:["åŒ—äº¬","å¤©æ´¥","çŸ³å®¶åº„","å”å±±","ç§¦çš‡å²›","é‚¯éƒ¸","é‚¢å°","ä¿å®š","å¼ å®¶å£","æ‰¿å¾·","æ²§å·","å»ŠåŠ","è¡¡æ°´","å¤ªåŸ","å¤§åŒ","é˜³æ³‰","é•¿æ²»","æ™‹åŸ","æœ”å·","æ™‹ä¸­","è¿åŸ","å¿»å·","ä¸´æ±¾","å•æ¢","å‘¼å’Œæµ©ç‰¹","åŒ…å¤´","ä¹Œæµ·","èµ¤å³°","é€šè¾½","é„‚å°”å¤šæ–¯","å‘¼ä¼¦è´å°”","å·´å½¦æ·–å°”","ä¹Œå…°å¯Ÿå¸ƒ","å…´å®‰ç›Ÿ","é”¡æ—éƒ­å‹’ç›Ÿ","é˜¿æ‹‰å–„ç›Ÿ"],ä¸œåŒ—:["æ²ˆé˜³","å¤§è¿","éå±±","æŠšé¡º","æœ¬æºª","ä¸¹ä¸œ","é”¦å·","è¥å£","é˜œæ–°","è¾½é˜³","ç›˜é”¦","é“å²­","æœé˜³","è‘«èŠ¦å²›","é•¿æ˜¥","å‰æ—","å››å¹³","è¾½æº","é€šåŒ–","ç™½å±±","æ¾åŸ","ç™½åŸ","å»¶è¾¹æœé²œæ—è‡ªæ²»å·","å“ˆå°”æ»¨","é½é½å“ˆå°”","é¸¡è¥¿","é¹¤å²—","åŒé¸­å±±","å¤§åº†","ä¼Šæ˜¥","ä½³æœ¨æ–¯","ä¸ƒå°æ²³","ç‰¡ä¸¹æ±Ÿ","é»‘æ²³","ç»¥åŒ–","å¤§å…´å®‰å²­åœ°åŒº"],åä¸œ:["ä¸Šæµ·","å—äº¬","æ— é”¡","å¾å·","å¸¸å·","è‹å·","å—é€š","è¿äº‘æ¸¯","æ·®å®‰","ç›åŸ","æ‰¬å·","é•‡æ±Ÿ","æ³°å·","å®¿è¿","æ­å·","å®æ³¢","æ¸©å·","å˜‰å…´","æ¹–å·","ç»å…´","é‡‘å","è¡¢å·","èˆŸå±±","å°å·","ä¸½æ°´","åˆè‚¥","èŠœæ¹–","èšŒåŸ ","æ·®å—","é©¬éå±±","æ·®åŒ—","é“œé™µ","å®‰åº†","é»„å±±","æ»å·","é˜œé˜³","å®¿å·","å…­å®‰","äº³å·","æ± å·","å®£åŸ","ç¦å·","å¦é—¨","è†ç”°","ä¸‰æ˜","æ³‰å·","æ¼³å·","å—å¹³","é¾™å²©","å®å¾·","å—æ˜Œ","æ™¯å¾·é•‡","èä¹¡","ä¹æ±Ÿ","æ–°ä½™","é¹°æ½­","èµ£å·","å‰å®‰","å®œæ˜¥","æŠšå·","ä¸Šé¥¶","æµå—","é’å²›","æ·„åš","æ£åº„","ä¸œè¥","çƒŸå°","æ½åŠ","æµå®","æ³°å®‰","å¨æµ·","æ—¥ç…§","ä¸´æ²‚","å¾·å·","èŠåŸ","æ»¨å·","èæ³½"],åä¸­:["éƒ‘å·","å¼€å°","æ´›é˜³","å¹³é¡¶å±±","å®‰é˜³","é¹¤å£","æ–°ä¹¡","ç„¦ä½œ","æ¿®é˜³","è®¸æ˜Œ","æ¼¯æ²³","ä¸‰é—¨å³¡","å—é˜³","å•†ä¸˜","ä¿¡é˜³","å‘¨å£","é©»é©¬åº—","æ­¦æ±‰","é»„çŸ³","åå °","å®œæ˜Œ","è¥„é˜³","é„‚å·","è†é—¨","å­æ„Ÿ","è†å·","é»„å†ˆ","å’¸å®","éšå·","æ©æ–½åœŸå®¶æ—è‹—æ—è‡ªæ²»å·","é•¿æ²™","æ ªæ´²","æ¹˜æ½­","è¡¡é˜³","é‚µé˜³","å²³é˜³","å¸¸å¾·","å¼ å®¶ç•Œ","ç›Šé˜³","éƒ´å·","æ°¸å·","æ€€åŒ–","å¨„åº•","æ¹˜è¥¿åœŸå®¶æ—è‹—æ—è‡ªæ²»å·"],åå—:["å¹¿å·","éŸ¶å…³","æ·±åœ³","ç æµ·","æ±•å¤´","ä½›å±±","æ±Ÿé—¨","æ¹›æ±Ÿ","èŒ‚å","è‚‡åº†","æƒ å·","æ¢…å·","æ±•å°¾","æ²³æº","é˜³æ±Ÿ","æ¸…è¿œ","ä¸œè","ä¸­å±±","æ½®å·","æ­é˜³","äº‘æµ®","å—å®","æŸ³å·","æ¡‚æ—","æ¢§å·","åŒ—æµ·","é˜²åŸæ¸¯","é’¦å·","è´µæ¸¯","ç‰æ—","ç™¾è‰²","è´ºå·","æ²³æ± ","æ¥å®¾","å´‡å·¦","æµ·å£","ä¸‰äºš","ä¸‰æ²™","å„‹å·","é¦™æ¸¯","æ¾³é—¨"],è¥¿å—:["é‡åº†","æˆéƒ½","è‡ªè´¡","æ”€æèŠ±","æ³¸å·","å¾·é˜³","ç»µé˜³","å¹¿å…ƒ","é‚å®","å†…æ±Ÿ","ä¹å±±","å—å……","çœ‰å±±","å®œå®¾","å¹¿å®‰","è¾¾å·","é›…å®‰","å·´ä¸­","èµ„é˜³","é˜¿åè—æ—ç¾Œæ—è‡ªæ²»å·","ç”˜å­œè—æ—è‡ªæ²»å·","å‡‰å±±å½æ—è‡ªæ²»å·","è´µé˜³","å…­ç›˜æ°´","éµä¹‰","å®‰é¡º","æ¯•èŠ‚","é“œä»","é»”è¥¿å—å¸ƒä¾æ—è‹—æ—è‡ªæ²»å·","é»”ä¸œå—è‹—æ—ä¾—æ—è‡ªæ²»å·","é»”å—å¸ƒä¾æ—è‹—æ—è‡ªæ²»å·","æ˜†æ˜","æ›²é–","ç‰æºª","ä¿å±±","æ˜­é€š","ä¸½æ±Ÿ","æ™®æ´±","ä¸´æ²§","æ¥šé›„å½æ—è‡ªæ²»å·","çº¢æ²³å“ˆå°¼æ—å½æ—è‡ªæ²»å·","æ–‡å±±å£®æ—è‹—æ—è‡ªæ²»å·","è¥¿åŒç‰ˆçº³å‚£æ—è‡ªæ²»å·","å¤§ç†ç™½æ—è‡ªæ²»å·","å¾·å®å‚£æ—æ™¯é¢‡æ—è‡ªæ²»å·","æ€’æ±Ÿå‚ˆåƒ³æ—è‡ªæ²»å·","è¿ªåº†è—æ—è‡ªæ²»å·","æ‹‰è¨","æ—¥å–€åˆ™","æ˜Œéƒ½","æ—èŠ","å±±å—","é‚£æ›²","é˜¿é‡Œåœ°åŒº"],è¥¿åŒ—:["è¥¿å®‰","é“œå·","å®é¸¡","å’¸é˜³","æ¸­å—","å»¶å®‰","æ±‰ä¸­","æ¦†æ—","å®‰åº·","å•†æ´›","å…°å·","å˜‰å³ªå…³","é‡‘æ˜Œ","ç™½é“¶","å¤©æ°´","æ­¦å¨","å¼ æ–","å¹³å‡‰","é…’æ³‰","åº†é˜³","å®šè¥¿","é™‡å—","ä¸´å¤å›æ—è‡ªæ²»å·","ç”˜å—è—æ—è‡ªæ²»å·","è¥¿å®","æµ·ä¸œ","æµ·åŒ—è—æ—è‡ªæ²»å·","é»„å—è—æ—è‡ªæ²»å·","æµ·å—è—æ—è‡ªæ²»å·","æœæ´›è—æ—è‡ªæ²»å·","ç‰æ ‘è—æ—è‡ªæ²»å·","æµ·è¥¿è’™å¤æ—è—æ—è‡ªæ²»å·","é“¶å·","çŸ³å˜´å±±","å´å¿ ","å›ºåŸ","ä¸­å«","ä¹Œé²æœ¨é½","å…‹æ‹‰ç›ä¾","åé²ç•ª","å“ˆå¯†","æ˜Œå‰å›æ—è‡ªæ²»å·","åšå°”å¡”æ‹‰è’™å¤è‡ªæ²»å·","å·´éŸ³éƒ­æ¥è’™å¤è‡ªæ²»å·","é˜¿å…‹è‹åœ°åŒº","å…‹å­œå‹’è‹æŸ¯å°”å…‹å­œè‡ªæ²»å·","å–€ä»€åœ°åŒº","å’Œç”°åœ°åŒº","ä¼ŠçŠå“ˆè¨å…‹è‡ªæ²»å·","å¡”åŸåœ°åŒº","é˜¿å‹’æ³°åœ°åŒº"],å°æ¹¾:["å°åŒ—","é«˜é›„"]},P=B(()=>{if(!l.value.trim())return _;const S=l.value.toLowerCase(),f={};for(const[e,n]of Object.entries(_)){const p=n.filter(k=>k.toLowerCase().includes(S));p.length>0&&(f[e]=p)}return f});Y(()=>i.visible,S=>{S&&(v.value=i.initialCity||null,l.value="",h.value=!1,g.value="",et(()=>{w.value?.focus()}))});const D=S=>{v.value=S},x=()=>{g.value.trim()&&(v.value=g.value.trim(),h.value=!1)},I=()=>{a("update:visible",!1)},E=()=>{v.value&&(a("select",v.value),I())};return(S,f)=>(r(),K(ct,{to:"body"},[G(ot,{name:"modal"},{default:N(()=>[y.visible?(r(),d("div",{key:0,class:"modal-overlay",onClick:V(I,["self"])},[t("div",Lt,[t("div",{class:"modal-header"},[f[5]||(f[5]=t("h3",{class:"modal-title"},"é€‰æ‹©åŸå¸‚",-1)),t("button",{class:"close-btn",onClick:I},[...f[4]||(f[4]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)])])]),t("div",Gt,[t("div",Ut,[f[6]||(f[6]=t("svg",{class:"search-icon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"11",cy:"11",r:"8"}),t("path",{d:"m21 21-4.35-4.35"})],-1)),O(t("input",{"onUpdate:modelValue":f[0]||(f[0]=e=>l.value=e),type:"text",placeholder:"æœç´¢åŸå¸‚...",class:"search-input",ref_key:"searchInput",ref:w},null,512),[[W,l.value]])]),t("div",zt,[(r(!0),d(z,null,F(P.value,(e,n)=>(r(),d("div",{key:n,class:"region-group"},[t("h4",At,C(n),1),t("div",Ot,[(r(!0),d(z,null,F(e,p=>(r(),d("button",{key:p,class:j(["city-btn",{selected:p===v.value}]),onClick:k=>D(p)},C(p),11,Nt))),128))])]))),128))]),t("div",Ft,[f[7]||(f[7]=t("span",{class:"custom-label"},"æ²¡æœ‰æ‰¾åˆ°ï¼Ÿ",-1)),h.value?(r(),d("div",Vt,[O(t("input",{"onUpdate:modelValue":f[2]||(f[2]=e=>g.value=e),type:"text",placeholder:"è¾“å…¥åŸå¸‚/åœ°ç‚¹åç§°",class:"custom-input",onKeyup:mt(x,["enter"])},null,544),[[W,g.value]]),t("button",{class:"confirm-btn",onClick:x}," ç¡®å®š "),t("button",{class:"cancel-btn",onClick:f[3]||(f[3]=e=>h.value=!1)}," å–æ¶ˆ ")])):(r(),d("button",{key:0,class:"add-custom-btn",onClick:f[1]||(f[1]=e=>h.value=!0)}," + æ·»åŠ è‡ªå®šä¹‰ä½ç½® "))])]),t("div",jt,[t("button",{class:"btn btn-secondary",onClick:I},"å–æ¶ˆ"),t("button",{class:"btn btn-primary",disabled:!v.value,onClick:E}," ç¡®è®¤é€‰æ‹© ",8,Rt)])])])):$("",!0)]),_:1})]))}}),Ht=J(Jt,[["__scopeId","data-v-a43468de"]]),Kt={class:"photo-auth"},Wt={class:"auth-card"},Yt={class:"input-wrapper"},qt=["type","disabled"],Zt={key:0,class:"error-message"},Qt=["disabled"],Xt={key:0,class:"loading-spinner"},te=R({__name:"PhotoAuth",emits:["success"],setup(y,{emit:u}){const i=u,a=b(""),l=b(!1),v=b(!1),h=b("");async function g(){if(!(!a.value||v.value)){v.value=!0,h.value="";try{await kt(a.value)?i("success"):(h.value="å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•",a.value="")}catch{h.value="ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•"}finally{v.value=!1}}}return(w,_)=>(r(),d("div",Kt,[t("div",Wt,[_[2]||(_[2]=t("div",{class:"auth-icon"},"ğŸ”",-1)),_[3]||(_[3]=t("h2",{class:"auth-title"},"ç§å¯†ç›¸å†Œ",-1)),_[4]||(_[4]=t("p",{class:"auth-desc"},"è¯·è¾“å…¥è®¿é—®å¯†ç ",-1)),t("form",{onSubmit:V(g,["prevent"]),class:"auth-form"},[t("div",Yt,[O(t("input",{"onUpdate:modelValue":_[0]||(_[0]=P=>a.value=P),type:l.value?"text":"password",placeholder:"è¾“å…¥å¯†ç ...",class:j(["auth-input",{error:h.value}]),disabled:v.value,autocomplete:"current-password"},null,10,qt),[[yt,a.value]]),t("button",{type:"button",class:"toggle-password",onClick:_[1]||(_[1]=P=>l.value=!l.value)},C(l.value?"ğŸ™ˆ":"ğŸ‘ï¸"),1)]),h.value?(r(),d("p",Zt,C(h.value),1)):$("",!0),t("button",{type:"submit",class:"auth-btn",disabled:v.value||!a.value},[v.value?(r(),d("span",Xt)):$("",!0),L(" "+C(v.value?"éªŒè¯ä¸­...":"è¿›å…¥ç›¸å†Œ"),1)],8,Qt)],32)])]))}}),ee=J(te,[["__scopeId","data-v-3ededf2c"]]),oe={class:"lightbox-container"},se={class:"main-image-area"},le=["disabled"],ne={class:"image-wrapper"},ae=["src","alt"],ie={key:0,class:"image-loading"},re=["disabled"],ce={class:"info-bar"},ue={class:"photo-info"},de={class:"photo-title"},ve={key:0,class:"photo-desc"},pe={class:"photo-meta"},he={key:0,class:"meta-item"},fe={key:1,class:"meta-item counter"},ge={key:0,class:"thumbnails"},me=["onClick"],ye=["src","alt"],be=R({__name:"PhotoLightbox",props:{visible:{type:Boolean},photos:{},initialIndex:{}},emits:["update:visible","delete"],setup(y,{emit:u}){const i=y,a=u,l=b(0),v=b(!1),h=b("slide-left"),g=B(()=>i.photos[l.value]);Y(()=>i.visible,f=>{f?(l.value=i.initialIndex||0,v.value=!1,document.body.style.overflow="hidden"):document.body.style.overflow=""}),Y(l,()=>{v.value=!1});const w=()=>{a("update:visible",!1)},_=()=>{l.value>0&&(h.value="slide-right",l.value--)},P=()=>{l.value<i.photos.length-1&&(h.value="slide-left",l.value++)},D=f=>{h.value=f>l.value?"slide-left":"slide-right",l.value=f},x=f=>new Date(f).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"}),I=()=>{if(!g.value?.url)return;const f=document.createElement("a");f.href=g.value.url,f.download=`${g.value.title||"photo"}.jpg`,f.click()},E=()=>{g.value&&confirm(`ç¡®å®šè¦åˆ é™¤ç…§ç‰‡ã€Œ${g.value.title}ã€å—ï¼Ÿ`)&&(a("delete",g.value.id),i.photos.length<=1?w():l.value>=i.photos.length-1&&(l.value=Math.max(0,l.value-1)))},S=f=>{if(i.visible)switch(f.key){case"Escape":w();break;case"ArrowLeft":_();break;case"ArrowRight":P();break}};return st(()=>{window.addEventListener("keydown",S)}),rt(()=>{window.removeEventListener("keydown",S),document.body.style.overflow=""}),(f,e)=>(r(),K(ct,{to:"body"},[G(ot,{name:"lightbox"},{default:N(()=>[y.visible?(r(),d("div",{key:0,class:"lightbox-overlay",onClick:V(w,["self"])},[t("div",oe,[t("button",{class:"close-btn",onClick:w},[...e[1]||(e[1]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)])]),t("div",se,[y.photos.length>1?(r(),d("button",{key:0,class:"nav-btn prev",onClick:_,disabled:l.value===0},[...e[2]||(e[2]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polyline",{points:"15,18 9,12 15,6"})],-1)])],8,le)):$("",!0),t("div",ne,[G(ot,{name:h.value,mode:"out-in"},{default:N(()=>[(r(),d("img",{key:g.value?.id,src:g.value?.url,alt:g.value?.title,class:"main-image",onLoad:e[0]||(e[0]=n=>v.value=!0)},null,40,ae))]),_:1},8,["name"]),v.value?$("",!0):(r(),d("div",ie,[...e[3]||(e[3]=[t("div",{class:"loader"},null,-1)])]))]),y.photos.length>1?(r(),d("button",{key:1,class:"nav-btn next",onClick:P,disabled:l.value===y.photos.length-1},[...e[4]||(e[4]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polyline",{points:"9,18 15,12 9,6"})],-1)])],8,re)):$("",!0)]),t("div",ce,[t("div",ue,[t("h3",de,C(g.value?.title),1),g.value?.description?(r(),d("p",ve,C(g.value.description),1)):$("",!0),t("div",pe,[g.value?.date?(r(),d("span",he,[e[5]||(e[5]=t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),t("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),t("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),t("line",{x1:"3",y1:"10",x2:"21",y2:"10"})],-1)),L(" "+C(x(g.value.date)),1)])):$("",!0),y.photos.length>1?(r(),d("span",fe,C(l.value+1)+" / "+C(y.photos.length),1)):$("",!0)])]),y.photos.length>1?(r(),d("div",ge,[(r(!0),d(z,null,F(y.photos,(n,p)=>(r(),d("button",{key:n.id,class:j(["thumb",{active:p===l.value}]),onClick:k=>D(p)},[t("img",{src:n.url,alt:n.title},null,8,ye)],10,me))),128))])):$("",!0),t("div",{class:"actions"},[t("button",{class:"action-btn",onClick:I,title:"ä¸‹è½½"},[...e[6]||(e[6]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t("polyline",{points:"7,10 12,15 17,10"}),t("line",{x1:"12",y1:"15",x2:"12",y2:"3"})],-1)])]),t("button",{class:"action-btn delete",onClick:E,title:"åˆ é™¤"},[...e[7]||(e[7]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polyline",{points:"3,6 5,6 21,6"}),t("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1)])])])])])])):$("",!0)]),_:1})]))}}),_e=J(be,[["__scopeId","data-v-5903ba6b"]]),we={key:1,class:"preview-area"},Ce={class:"preview-grid"},ke=["src","alt"],$e=["onClick"],xe={class:"image-info"},Se={class:"image-name"},Pe={class:"image-size"},Me={class:"photo-form"},Ie={class:"form-group"},De={class:"form-group"},Te={class:"form-group"},Ee={class:"upload-actions"},Be=["disabled"],Le={key:0,class:"loading-spinner"},Ge=R({__name:"PhotoUploader",emits:["upload"],setup(y,{emit:u}){const i=u,a=b(null),l=b(!1),v=b(!1),h=b([]),g=b(""),w=b(""),_=b(new Date().toISOString().split("T")[0]),P=B(()=>h.value.length>0&&g.value.trim()),D=()=>{a.value?.click()},x=m=>{const o=m.target;o.files&&E(Array.from(o.files))},I=m=>{l.value=!1;const o=m.dataTransfer?.files;o&&E(Array.from(o).filter(s=>s.type.startsWith("image/")))},E=async m=>{for(const o of m){if(o.size>10*1024*1024){alert(`æ–‡ä»¶ ${o.name} å¤ªå¤§ï¼Œè¯·é€‰æ‹©å°äº 10MB çš„å›¾ç‰‡`);continue}const s=await S(o);h.value.push({file:o,preview:s})}},S=m=>new Promise(o=>{const s=new FileReader;s.onload=c=>{o(c.target?.result)},s.readAsDataURL(m)}),f=m=>{h.value.splice(m,1)},e=()=>{h.value=[],g.value="",w.value="",_.value=new Date().toISOString().split("T")[0],a.value&&(a.value.value="")},n=async()=>{if(P.value){v.value=!0;try{const m=await Promise.all(h.value.map(async(o,s)=>({url:await p(o.file),title:h.value.length===1?g.value:`${g.value} (${s+1})`,description:w.value||void 0,date:_.value||void 0})));i("upload",m),e()}catch(m){console.error("Upload failed:",m),alert("å¤„ç†å›¾ç‰‡æ—¶å‡ºé”™ï¼Œè¯·é‡è¯•")}finally{v.value=!1}}},p=(m,o=1200,s=.8)=>new Promise((c,U)=>{const A=new Image;A.onload=()=>{const Z=document.createElement("canvas");let H=A.width,Q=A.height;H>o&&(Q=Q*o/H,H=o),Z.width=H,Z.height=Q;const nt=Z.getContext("2d");if(!nt){U(new Error("Canvas context not available"));return}nt.drawImage(A,0,0,H,Q);const pt=Z.toDataURL("image/jpeg",s);c(pt)},A.onerror=()=>U(new Error("Failed to load image")),A.src=URL.createObjectURL(m)}),k=(m,o=20)=>{if(m.length<=o)return m;const s=m.split(".").pop()||"";return`${m.slice(0,o-s.length-4)}...${s}`},M=m=>m<1024?`${m} B`:m<1024*1024?`${(m/1024).toFixed(1)} KB`:`${(m/(1024*1024)).toFixed(1)} MB`;return(m,o)=>(r(),d("div",{class:j(["photo-uploader",{"drag-over":l.value}]),onDragover:o[3]||(o[3]=V(s=>l.value=!0,["prevent"])),onDragleave:o[4]||(o[4]=V(s=>l.value=!1,["prevent"])),onDrop:V(I,["prevent"])},[t("input",{ref_key:"fileInput",ref:a,type:"file",accept:"image/*",multiple:"",class:"file-input",onChange:x},null,544),h.value.length?(r(),d("div",we,[t("div",Ce,[(r(!0),d(z,null,F(h.value,(s,c)=>(r(),d("div",{key:c,class:"preview-item"},[t("img",{src:s.preview,alt:s.file.name},null,8,ke),t("button",{class:"remove-btn",onClick:U=>f(c)},[...o[6]||(o[6]=[t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)])],8,$e),t("div",xe,[t("span",Se,C(k(s.file.name)),1),t("span",Pe,C(M(s.file.size)),1)])]))),128)),t("div",{class:"add-more",onClick:D},[...o[7]||(o[7]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M12 5v14M5 12h14"})],-1),t("span",null,"æ·»åŠ æ›´å¤š",-1)])])]),t("div",Me,[t("div",Ie,[o[8]||(o[8]=t("label",{class:"form-label"},"ç…§ç‰‡æ ‡é¢˜",-1)),O(t("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>g.value=s),type:"text",class:"form-input",placeholder:"ç»™è¿™ç»„ç…§ç‰‡èµ·ä¸ªåå­—..."},null,512),[[W,g.value]])]),t("div",De,[o[9]||(o[9]=t("label",{class:"form-label"},"æè¿°ï¼ˆå¯é€‰ï¼‰",-1)),O(t("textarea",{"onUpdate:modelValue":o[1]||(o[1]=s=>w.value=s),class:"form-textarea",placeholder:"è®°å½•ä¸€äº›å½“æ—¶çš„æ„Ÿå—...",rows:"2"},null,512),[[W,w.value]])]),t("div",Te,[o[10]||(o[10]=t("label",{class:"form-label"},"æ‹æ‘„æ—¥æœŸ",-1)),O(t("input",{"onUpdate:modelValue":o[2]||(o[2]=s=>_.value=s),type:"date",class:"form-input"},null,512),[[W,_.value]])])]),t("div",Ee,[t("button",{class:"btn btn-secondary",onClick:e},"æ¸…ç©º"),t("button",{class:"btn btn-primary",disabled:!P.value||v.value,onClick:n},[v.value?(r(),d("span",Le)):$("",!0),L(" "+C(v.value?"å¤„ç†ä¸­...":`ç¡®è®¤æ·»åŠ  (${h.value.length})`),1)],8,Be)])])):(r(),d("div",{key:0,class:"upload-area",onClick:D},[...o[5]||(o[5]=[ut('<div class="upload-icon" data-v-d465db61><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-d465db61><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" data-v-d465db61></path><polyline points="17,8 12,3 7,8" data-v-d465db61></polyline><line x1="12" y1="3" x2="12" y2="15" data-v-d465db61></line></svg></div><p class="upload-text" data-v-d465db61>æ‹–æ‹½å›¾ç‰‡åˆ°è¿™é‡Œï¼Œæˆ–ç‚¹å‡»é€‰æ‹©</p><p class="upload-hint" data-v-d465db61>æ”¯æŒ JPGã€PNGã€WebP æ ¼å¼</p>',3)])]))],34))}}),Ue=J(Ge,[["__scopeId","data-v-d465db61"]]),ze={class:"app-layout"},Ae={class:"navbar"},Oe={class:"navbar-container"},Ne={class:"nav-links"},Fe={class:"main-content"},Ve=R({__name:"MainLayout",setup(y){const u=b(!1);function i(){u.value=!u.value}return(a,l)=>{const v=bt("router-link");return r(),d("div",ze,[t("header",Ae,[t("div",Oe,[G(v,{to:"/",class:"logo"},{default:N(()=>[...l[1]||(l[1]=[t("span",{class:"logo-icon"},"ğŸ—ºï¸",-1),t("span",{class:"logo-text"},"Mays Photos",-1)])]),_:1}),t("nav",Ne,[G(v,{to:"/",class:"nav-link"},{default:N(()=>[...l[2]||(l[2]=[t("span",{class:"nav-icon"},"ğŸ“·",-1),L(" ç…§ç‰‡Â·è¶³è¿¹ ",-1)])]),_:1})]),t("button",{class:"mobile-menu-btn",onClick:i},[...l[3]||(l[3]=[t("span",null,null,-1),t("span",null,null,-1),t("span",null,null,-1)])])]),t("div",{class:j(["mobile-menu",{active:u.value}])},[G(v,{to:"/",class:"mobile-nav-link",onClick:l[0]||(l[0]=h=>u.value=!1)},{default:N(()=>[...l[4]||(l[4]=[L("ç…§ç‰‡Â·è¶³è¿¹",-1)])]),_:1})],2)]),t("main",Fe,[_t(a.$slots,"default",{},void 0)]),l[5]||(l[5]=ut('<footer class="footer" data-v-248345d7><div class="footer-container" data-v-248345d7><div class="footer-info" data-v-248345d7><p data-v-248345d7>Â© 2024 Mays Photos. ç…§ç‰‡Â·è¶³è¿¹è®°å½•</p><p class="footer-sub" data-v-248345d7>Built with Vue 3 + TypeScript + ECharts</p></div><div class="footer-links" data-v-248345d7><a href="https://github.com" target="_blank" rel="noopener" data-v-248345d7>GitHub</a></div></div></footer>',1))])}}}),je=J(Ve,[["__scopeId","data-v-248345d7"]]),Re={class:"photos-page"},Je={class:"hero"},He={class:"hero-content"},Ke={class:"hero-stats"},We={class:"stat-item"},Ye={class:"stat-value"},qe={class:"stat-item"},Ze={class:"stat-value"},Qe={class:"stat-item"},Xe={class:"stat-value"},to={class:"content"},eo={class:"layout"},oo={class:"sidebar"},so={class:"sidebar-section"},lo={class:"section-title"},no={class:"section-count"},ao={class:"group-list"},io=["onClick"],ro={class:"group-main"},co={class:"group-name"},uo={class:"group-meta"},vo=["onClick"],po={class:"sidebar-section"},ho={class:"section-title"},fo={class:"city-tags"},go=["onClick"],mo={class:"tag-count"},yo={class:"map-section"},bo={class:"section-title"},_o={key:0,class:"current-city"},wo={class:"photos-section"},Co={class:"section-header"},ko={class:"section-title"},$o={key:0,class:"current-group"},xo={key:1,class:"empty-state"},So={key:2,class:"empty-state"},Po={key:3,class:"photos-grid"},Mo=["onClick"],Io={class:"photo-thumb"},Do=["src","alt"],To={key:1,class:"photo-placeholder"},Eo={class:"photo-meta"},Bo={class:"photo-title"},Lo={key:0,class:"photo-desc"},Go={key:1,class:"photo-date"},Uo=R({__name:"index",setup(y){const u=Mt(),i=b(!1),a=b(null),l=b(null),v=b(!1),h=b(!1),g=b(!1),w=b(0);st(()=>{i.value=Ct(),i.value&&D()});const _=()=>{i.value=!0,D()},P=()=>{vt(),i.value=!1},D=async()=>{await u.fetchFromApi();const o=u.groups[0];o&&(a.value=o.id,l.value=o.city)},x=B(()=>u.groups.find(o=>o.id===a.value)||null),I=B(()=>{const o={};for(const s of u.groups){const c=o[s.city];o[s.city]=(c??0)+s.photos.length}return o}),E=o=>I.value[o]||0,S=o=>{a.value=o;const s=u.groups.find(c=>c.id===o);s&&(l.value=s.city),h.value=!1},f=o=>{l.value=o;const s=u.groups.find(c=>c.city===o);s&&(a.value=s.id)},e=o=>{const s=window.prompt(`æ–°å»ºã€Œ${o}ã€çš„åˆ†ç»„ï¼Œè¯·è¾“å…¥åˆ†ç»„åç§°ï¼š`);if(!s)return;const c=u.addGroup(s,o);a.value=c.id,l.value=o,v.value=!1},n=o=>{const s=u.groups.find(c=>c.id===o);s&&confirm(`ç¡®å®šè¦åˆ é™¤åˆ†ç»„ã€Œ${s.name}ã€åŠå…¶æ‰€æœ‰ç…§ç‰‡å—ï¼Ÿ`)&&(u.removeGroup(o),a.value===o&&(a.value=u.groups[0]?.id||null,l.value=u.groups[0]?.city||null))},p=o=>{if(a.value){for(const s of o)u.addPhoto(a.value,s);h.value=!1}},k=o=>{a.value&&u.removePhoto(a.value,o)},M=o=>{w.value=o,g.value=!0},m=o=>new Date(o).toLocaleDateString("zh-CN",{year:"numeric",month:"short",day:"numeric"});return(o,s)=>(r(),K(je,null,{default:N(()=>[t("div",Re,[i.value?(r(),d(z,{key:1},[t("section",Je,[t("div",He,[s[8]||(s[8]=t("h1",{class:"title"},"ç…§ç‰‡ Â· è¶³è¿¹",-1)),s[9]||(s[9]=t("p",{class:"subtitle"}," æŠŠæ—¥å¸¸å’Œæ—…è¡Œç…§ç‰‡æŒ‰åœ°ç‚¹åˆ†ç»„ï¼Œç”¨åœ°å›¾çš„æ–¹å¼è®°å½•è‡ªå·±çš„è¶³è¿¹ ",-1)),t("div",Ke,[t("div",We,[t("span",Ye,C(T(u).groups.length),1),s[5]||(s[5]=t("span",{class:"stat-label"},"ä¸ªåˆ†ç»„",-1))]),t("div",qe,[t("span",Ze,C(T(u).totalPhotos),1),s[6]||(s[6]=t("span",{class:"stat-label"},"å¼ ç…§ç‰‡",-1))]),t("div",Qe,[t("span",Xe,C(T(u).cities.length),1),s[7]||(s[7]=t("span",{class:"stat-label"},"ä¸ªåŸå¸‚",-1))])]),t("button",{class:"btn-logout",onClick:P,title:"é€€å‡ºç™»å½•"}," ğŸ”“ é€€å‡º ")])]),t("section",to,[t("div",eo,[t("aside",oo,[t("div",so,[t("h2",lo,[s[10]||(s[10]=L(" åˆ†ç»„ ",-1)),t("span",no,C(T(u).groups.length),1)]),t("ul",ao,[(r(!0),d(z,null,F(T(u).groups,c=>(r(),d("li",{key:c.id,class:j(["group-item",{active:c.id===a.value}]),onClick:U=>S(c.id)},[t("div",ro,[t("span",co,C(c.name),1),t("span",uo,C(c.city)+" Â· "+C(c.photos.length)+" å¼  ",1)]),t("button",{class:"group-delete",onClick:V(U=>n(c.id),["stop"]),title:"åˆ é™¤åˆ†ç»„"},[...s[11]||(s[11]=[t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)])],8,vo)],10,io))),128))]),t("button",{class:"btn btn-outline",onClick:s[0]||(s[0]=c=>v.value=!0)}," + æ–°å»ºåˆ†ç»„ ")]),t("div",po,[t("h2",ho,[s[12]||(s[12]=L(" åŸå¸‚ç­›é€‰ ",-1)),l.value?(r(),d("button",{key:0,class:"clear-filter",onClick:s[1]||(s[1]=c=>l.value=null)}," æ¸…é™¤ ")):$("",!0)]),t("div",fo,[(r(!0),d(z,null,F(T(u).cities,c=>(r(),d("button",{key:c,class:j(["tag",{active:c===l.value}]),onClick:U=>f(c)},[L(C(c)+" ",1),t("span",mo,C(E(c)),1)],10,go))),128))])])]),t("section",yo,[t("h2",bo,[s[13]||(s[13]=L(" è¶³è¿¹åœ°å›¾ ",-1)),l.value?(r(),d("span",_o," å½“å‰ï¼š"+C(l.value),1)):$("",!0)]),G(T(Bt),{activeCity:l.value,visitedCities:T(u).cities,cityPhotoCounts:I.value,showConnections:!0,onSelect:f},null,8,["activeCity","visitedCities","cityPhotoCounts"])]),t("section",wo,[t("div",Co,[t("h2",ko,[s[14]||(s[14]=L(" ç…§ç‰‡ ",-1)),x.value?(r(),d("span",$o," Â· "+C(x.value.name)+"ï¼ˆ"+C(x.value.photos.length)+" å¼ ï¼‰ ",1)):$("",!0)]),x.value?(r(),d("button",{key:0,class:"btn btn-primary btn-sm",onClick:s[2]||(s[2]=c=>h.value=!h.value)},C(h.value?"å–æ¶ˆ":"+ æ·»åŠ ç…§ç‰‡"),1)):$("",!0)]),h.value&&x.value?(r(),K(T(Ue),{key:0,onUpload:p,class:"uploader-area"})):$("",!0),x.value?x.value.photos.length===0?(r(),d("div",So,[...s[16]||(s[16]=[t("div",{class:"empty-icon"},"ğŸ–¼ï¸",-1),t("p",null,"è¿™ä¸ªåˆ†ç»„è¿˜æ²¡æœ‰ç…§ç‰‡",-1),t("p",{class:"empty-hint"},"ç‚¹å‡»ä¸Šæ–¹ã€Œæ·»åŠ ç…§ç‰‡ã€å¼€å§‹ä¸Šä¼ ",-1)])])):(r(),d("div",Po,[(r(!0),d(z,null,F(x.value.photos,(c,U)=>(r(),d("div",{key:c.id,class:"photo-item",onClick:A=>M(U)},[t("div",Io,[c.url?(r(),d("img",{key:0,src:c.url,alt:c.title,loading:"lazy"},null,8,Do)):(r(),d("div",To,[t("span",null,C(c.title),1)]))]),t("div",Eo,[t("div",Bo,C(c.title),1),c.description?(r(),d("div",Lo,C(c.description),1)):$("",!0),c.date?(r(),d("div",Go,C(m(c.date)),1)):$("",!0)])],8,Mo))),128))])):(r(),d("div",xo,[...s[15]||(s[15]=[t("div",{class:"empty-icon"},"ğŸ“·",-1),t("p",null,"è¿˜æ²¡æœ‰é€‰æ‹©åˆ†ç»„",-1),t("p",{class:"empty-hint"},"åœ¨å·¦ä¾§é€‰æ‹©ä¸€ä¸ªåˆ†ç»„ï¼Œæˆ–è€…åˆ›å»ºä¸€ä¸ªæ–°çš„",-1)])]))])])]),G(T(Ht),{visible:v.value,"onUpdate:visible":s[3]||(s[3]=c=>v.value=c),onSelect:e},null,8,["visible"]),G(T(_e),{visible:g.value,"onUpdate:visible":s[4]||(s[4]=c=>g.value=c),photos:x.value?.photos||[],initialIndex:w.value,onDelete:k},null,8,["visible","photos","initialIndex"])],64)):(r(),K(T(ee),{key:0,onSuccess:_}))])]),_:1}))}}),Oo=J(Uo,[["__scopeId","data-v-1eb5fa3a"]]);export{Oo as default};
